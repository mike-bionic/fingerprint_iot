(this.webpackJsonplogger_ui=this.webpackJsonplogger_ui||[]).push([[0],{34:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(19),s=n.n(r),i=(n(26),n(7)),l=n(2),o=n(0),j=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SERVER_URL:"127.0.0.1:5000",REACT_APP_FINGERPRINTS_PATH:"/fingerprints_data/",REACT_APP_ACCESS_LOGS_PATH:"/access_logs/",REACT_APP_LOGIN_PATH:"/login",REACT_APP_CONFIGURE_FINGERPRINT_PATH:"/configure_fingerprint/"}).REACT_APP_LOGIN_URL||"/login",b=function(){return Object(o.jsx)("main",{className:"form-signin",children:Object(o.jsxs)("form",{className:"form-control",method:"POST",action:"http://".concat("127.0.0.1:5000").concat(j),children:[Object(o.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please Login"}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{children:"Username"}),Object(o.jsx)("input",{type:"text",selected:!0,className:"form-control",id:"floatingUsername",name:"username",placeholder:"Username"}),Object(o.jsx)("label",{children:"Pin Code"}),Object(o.jsx)("input",{type:"password",className:"form-control",id:"floatingPin",name:"pin",placeholder:"Pin Code"})]}),Object(o.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Login"})]})})},d=n(10),u=n.n(d),p=n(12),O=n(9),h=function(e){var t=e.text,n=e.badge,c=e.children;return Object(o.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-start",children:[t,c,Object(o.jsx)("span",{className:"badge bg-primary rounded-pill",children:n})]})},f=window.location.origin,m=Object(l.g)((function(e){var t=e.history,n=Object(c.useState)([]),a=Object(O.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(p.a)(u.a.mark((function e(){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://".concat(f).concat("/access_logs/"));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,s(c.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t.push("/app/login");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e();var n=setInterval((function(){e()}),1e4);return function(){clearInterval(n)}}),[s,t]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h4",{children:"Access log"}),Object(o.jsx)("ul",{className:"list-group",children:r.map((function(e){return Object(o.jsxs)(h,{text:"".concat(e.id," | Finger id: ").concat(e.finger_id),badge:e.date,children:[Object(o.jsx)("span",{className:"badge bg-secondary rounded-pill",children:e.name}),Object(o.jsx)("span",{className:"badge bg-success rounded-pill",children:e.access_type})]},e.id)}))})]})})),x=n(13),g=n(17),v=function(e){var t=e.data,n=void 0===t?[]:t;if(0===n.length)return Object(o.jsx)("h2",{children:"No data"});var c=Object.keys(n[0]);return Object(o.jsxs)("table",{className:"table table-striped",children:[Object(o.jsx)("thead",{children:Object(o.jsx)("tr",{children:c.map((function(e,t){return Object(o.jsx)("th",{scope:"col",children:e},e)}))})}),Object(o.jsx)("tbody",{children:n.map((function(e,t){return Object(o.jsx)("tr",{children:c.map((function(t,n){return Object(o.jsx)("td",{children:e[t]},e[t])}))},t)}))})]})},_=Object(l.g)((function(e){var t=e.history,n=Object(c.useState)([]),a=Object(O.a)(n,2),r=a[0],s=a[1];Object(c.useEffect)((function(){var e=function(){var e=Object(p.a)(u.a.mark((function e(){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://".concat(f).concat("/fingerprints_data/"));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,s(c.data),C("",""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t.push("/app/login");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e();var n=setInterval((function(){e()}),1e4);return function(){clearInterval(n)}}),[s]);var i=Object(c.useState)(""),l=Object(O.a)(i,2),j=l[0],b=l[1],d=Object(c.useState)("info"),h=Object(O.a)(d,2),m=h[0],_=h[1],N=Object(c.useState)({finger_id:"",name:""}),P=Object(O.a)(N,2),S=P[0],y=P[1],E=function(e){var t=e.target,n=t.name,c=t.value;y((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(x.a)({},n,c))}))},C=function(e,t){b(e),_(t)},T=function(){return m&&j?Object(o.jsx)("div",{class:"alert alert-".concat(m),role:"alert",children:j}):Object(o.jsx)(o.Fragment,{})};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h4",{children:"Fingerprints"}),Object(o.jsx)(T,{}),Object(o.jsxs)("div",{className:"form-control d-flex",children:[Object(o.jsx)("input",{type:"text",value:S.finger_id,name:"finger_id",onChange:E,className:"form-control",placeholder:"Fingerprint Id"}),Object(o.jsx)("input",{type:"text",value:S.name,name:"name",onChange:E,className:"form-control",placeholder:"Name"}),Object(o.jsx)("button",{type:"button",class:"btn btn-success",onClick:function(){S.finger_id&&S.name?function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("http://".concat(f).concat("/configure_fingerprint/"),t)}(S).then(C("Edited successfully!","info")):C("Inputs are empty, skipping!","danger")},children:"Save"})]}),Object(o.jsx)(v,{data:r})]})})),N=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("ul",{className:"nav nav-pills",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(i.b,{className:"nav-link",activeClassName:"active",to:"/app/login",children:"Login"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(i.b,{className:"nav-link",activeClassName:"active",to:"/app/access_logs",children:"Access logs"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(i.b,{className:"nav-link",activeClassName:"active",to:"/app/fingerprints",children:"Fingeprints"})})]})})},P=function(){return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)(i.a,{children:[Object(o.jsx)(N,{}),Object(o.jsxs)(l.d,{children:[Object(o.jsx)(l.b,{path:"/app/access_logs",exact:!0,render:function(){return Object(o.jsx)(m,{})}}),Object(o.jsx)(l.b,{path:"/app/fingerprints",exact:!0,render:function(){return Object(o.jsx)(_,{})}}),Object(o.jsx)(l.b,{path:"/app/login",exact:!0,render:function(){return Object(o.jsx)(b,{})}}),Object(o.jsx)(l.a,{to:"/app/login"})]})]})})};s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(P,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.9c0e4fb5.chunk.js.map
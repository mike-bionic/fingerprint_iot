{"version":3,"sources":["components/Pages/LoginPage.js","components/ListItem/index.js","components/ListItem/ListItem.js","services/service.js","components/Pages/AccessLogPage.js","components/Table/index.js","components/Table/Table.js","components/Pages/FingerprintsPage.js","components/Tab/index.js","components/Tab/Tab.js","components/App/index.js","components/App/App.js","index.js"],"names":["loginPath","process","REACT_APP_LOGIN_URL","LoginPage","className","method","action","type","selected","id","name","placeholder","ListItem","text","badge","children","server_url","window","location","origin","withRouter","history","useState","data","setData","useEffect","fetch_logs","a","fetch","access_data","json","json_data","console","log","push","fetch_interval","setInterval","clearInterval","map","finger_id","date","access_type","Table","length","columns","Object","keys","column","i","scope","row","fetch_fingers","fingers_data","setAlertStates","message","setMessage","alertType","setAlertType","inputs","setInputs","handleChange","e","target","value","style","AlertMessage","class","role","onChange","onClick","requestOptions","headers","body","JSON","stringify","configureFingerprint","then","Tab","activeClassName","to","App","path","exact","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9c0e4fb5.chunk.js","sourcesContent":["import React from 'react'\n\nconst server_url = process.env.REACT_APP_SERVER_URL || '127.0.0.1:5000'\nconst loginPath = process.env.REACT_APP_LOGIN_URL || '/login'\n\nconst LoginPage = () => {\n\n\treturn (\n\t\t<main className=\"form-signin\">\n\t\t\t<form\n\t\t\tclassName=\"form-control\"\n\t\t\t\tmethod=\"POST\" action={`http://${server_url}${loginPath}`}>\n\t\t\t\t<h1 className=\"h3 mb-3 fw-normal\">Please Login</h1>\n\t\t\t\t<div>\n\t\t\t\t\t<label>Username</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tselected\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tid=\"floatingUsername\"\n\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\tplaceholder=\"Username\" />\n\n\t\t\t\t\t<label>Pin Code</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tid=\"floatingPin\"\n\t\t\t\t\t\tname=\"pin\"\n\t\t\t\t\t\tplaceholder=\"Pin Code\" />\n\t\t\t\t</div>\n\t\t\t\t<button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">Login</button>\n\t\t\t</form>\n\t\t</main>\n\t)\n}\n\nexport default LoginPage","import { ListItem } from './ListItem'\n\nexport default ListItem","import React from 'react'\n\nexport const ListItem = ({text, badge, children}) => {\n\treturn (\n\t\t<li className=\"list-group-item d-flex justify-content-between align-items-start\">\n\t\t\t{text}\n\t\t\t{children}\n\t\t\t<span className=\"badge bg-primary rounded-pill\">{badge}</span>\n\t\t</li>\n\t)\n}","\nconst server_url = window.location.origin  // process.env.REACT_APP_SERVER_URL || '127.0.0.1:5000'\nconst fingerprintsPath = process.env.REACT_APP_FINGERPRINTS_PATH || '/fingerprints_data/'\nconst accessLogsPath = process.env.REACT_APP_ACCESS_LOGS_PATH || '/access_logs/'\nconst loginPath = process.env.REACT_APP_LOGIN_PATH || '/login'\nconst configureFingerprintPath = process.env.REACT_APP_CONFIGURE_FINGERPRINT_PATH || '/configure_fingerprint/'\n\nexport const fetchFingerprints = () => {\n\treturn fetch(`http://${server_url}${fingerprintsPath}`)\n}\n\nexport const fetchAccessLogs = () => {\n\treturn fetch(`http://${server_url}${accessLogsPath}`)\n}\n\nexport const loginRequest = (pin) => {\n\treturn fetch(`http://${server_url}${loginPath}?pin=${pin}`)\n}\n\nexport const configureFingerprint = (data) => {\n\n\tconst requestOptions = {\n\t\tmethod: 'POST',\n\t\theaders: { 'Content-Type': 'application/json' },\n\t\tbody: JSON.stringify(data)\n\t};\n\n\treturn fetch(`http://${server_url}${configureFingerprintPath}`,requestOptions)\n}","import React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport ListItem from '../ListItem'\nimport { fetchAccessLogs } from '../../services'\n\nconst AccessLogPage = ({history}) => {\n\n\tconst [data, setData] = useState([])\n\n\tuseEffect(() => {\n\t\tconst fetch_logs = async () => {\n\t\t\ttry {\n\t\t\t\tconst access_data = await fetchAccessLogs()\n\t\t\t\tconst json_data = await access_data.json()\n\t\t\t\tsetData(json_data.data)\n\t\t\t} catch (e){\n\t\t\t\tconsole.log(e)\n\t\t\t\thistory.push('/app/login')\n\t\t\t}\n\t\t}\n\t\tfetch_logs();\n\t\tconst fetch_interval = setInterval(() => {\n\t\t\tfetch_logs()\n\t\t}, 10000);\n\n\t\treturn () => {\n\t\t\tclearInterval(fetch_interval);\n\t\t}\t\n\t}, [setData, history])\n\n\treturn (\n\t\t<>\n\t\t\t<h4>Access log</h4>\n\t\t\t<ul className=\"list-group\">\n\t\t\t\t{(data.map((log) => \n\t\t\t\t\t<ListItem key={log.id} text={`${log.id} | Finger id: ${log.finger_id}`} badge={log.date}>\n\t\t\t\t\t\t<span className=\"badge bg-secondary rounded-pill\">{log.name}</span>\n\t\t\t\t\t\t<span className=\"badge bg-success rounded-pill\">{log.access_type}</span>\n\t\t\t\t\t</ListItem>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</>\n\t)\n}\n\nexport default withRouter(AccessLogPage)","import Table from './Table'\n\nexport default Table","import React from 'react'\n\nconst Table = ({data = []}) => {\n\n\tif (data.length === 0){\n\t\treturn <h2>No data</h2>\n\t}\n\n\tconst columns = Object.keys(data[0])\n\t\n\treturn (\n\t\t<table className=\"table table-striped\">\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t{columns.map((column, i) => <th key={column} scope=\"col\">{column}</th>)}\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t{data.map((row, i) => (\n\t\t\t\t\t<tr key={i}>\n\t\t\t\t\t\t{columns.map((column, i) => (\n\t\t\t\t\t\t\t<td key={row[column]}>{row[column]}</td>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</tr>\n\t\t\t\t))}\n\t\t\t</tbody>\n\t\t</table>\n\t)\n}\n\nexport default Table","\nimport React, { useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport ListItem from '../ListItem'\nimport Table from '../Table'\nimport { fetchFingerprints, configureFingerprint } from '../../services'\n\nconst FingerprintsPage = ({history}) => {\n\n\tconst [data, setData] = useState([])\n\n\tuseEffect(() => {\n\t\tconst fetch_fingers = async () => {\n\t\t\ttry{\n\t\t\t\tconst fingers_data = await fetchFingerprints()\n\t\t\t\tconst json_data = await fingers_data.json()\n\t\t\t\tsetData(json_data.data)\n\t\t\t\tsetAlertStates('','')\n\t\t\t} catch (e) {\n\t\t\t\thistory.push('/app/login')\n\t\t\t}\n\t\t}\n\t\tfetch_fingers();\n\t\tconst fetch_interval = setInterval(() => {\n\t\t\tfetch_fingers()\n\t\t}, 10000);\n\n\t\treturn () => {\n\t\t\tclearInterval(fetch_interval);\n\t\t}\t\n\t}, [setData])\n\n\n\tconst [message, setMessage] = useState('')\n\tconst [alertType, setAlertType] = useState('info')\n\n\tconst [inputs, setInputs] = useState({\n    finger_id: '',\n    name: '',\n  });\n\tconst handleChange = (e: any) => {\n    const { name, value } = e.target;\n    setInputs((inputs) => ({ ...inputs, [name]: value }));\n  };\n\n\tconst handleFingerprintSave = () => {\n\t\tif (!inputs.finger_id || !inputs.name){\n\t\t\tsetAlertStates(\"Inputs are empty, skipping!\", 'danger')\n\t\t}\n\t\telse {\n\t\t\tconfigureFingerprint(inputs)\n\t\t\t.then(setAlertStates(\"Edited successfully!\", \"info\"))\n\t\t}\n\t}\n\n\tconst setAlertStates = (message, style) => {\n\t\tsetMessage(message)\n\t\tsetAlertType(style)\n\t}\n\tconst AlertMessage = () => {\n\t\tif (!alertType || !message){\n\t\t\treturn <></>\n\t\t}\n\t\telse {\n\t\t\treturn (\n\t\t\t\t<div class={`alert alert-${alertType}`} role=\"alert\">\n\t\t\t\t\t{message}\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\t\t\t\n\t}\n\n\n\treturn (\n\t\t<>\n\t\t\t<h4>Fingerprints</h4>\n\n\t\t\t<AlertMessage />\n\t\t\t<div className=\"form-control d-flex\">\n\t\t\t\t<input type=\"text\"\n\t\t\t\t\tvalue={inputs.finger_id}\n\t\t\t\t\tname=\"finger_id\"\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Fingerprint Id\" />\n\t\t\t\t<input type=\"text\"\n\t\t\t\t\tvalue={inputs.name}\n\t\t\t\t\tname=\"name\"\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tplaceholder=\"Name\" />\n\t\t\t\t<button type=\"button\" class=\"btn btn-success\" onClick={handleFingerprintSave}>Save</button>\n\t\t\t</div>\n\t\t\t<Table \n\t\t\t\tdata={data}\n\t\t\t/>\n\t\t</>\n\t)\n}\n\nexport default withRouter(FingerprintsPage)","import { Tab } from './Tab'\n\nexport default Tab","import React from 'react'\n\nimport { NavLink } from 'react-router-dom'\n\nexport const Tab = () => {\n\treturn (\n\t\t<>\n\t\t\t<ul className=\"nav nav-pills\">\n\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t<NavLink\n\t\t\t\t\t\tclassName=\"nav-link\"\n\t\t\t\t\t\tactiveClassName=\"active\" \n\t\t\t\t\t\tto=\"/app/login\">\n\t\t\t\t\t\t\tLogin\n\t\t\t\t\t</NavLink>\n\t\t\t\t</li>\n\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t<NavLink\n\t\t\t\t\t\tclassName=\"nav-link\"\n\t\t\t\t\t\tactiveClassName=\"active\" \n\t\t\t\t\t\tto=\"/app/access_logs\">\n\t\t\t\t\t\t\tAccess logs\n\t\t\t\t\t</NavLink>\n\t\t\t\t</li>\n\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t<NavLink\n\t\t\t\t\t\tclassName=\"nav-link\"\n\t\t\t\t\t\tactiveClassName=\"active\" \n\t\t\t\t\t\tto=\"/app/fingerprints\">\n\t\t\t\t\t\t\tFingeprints\n\t\t\t\t\t</NavLink>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</>\n\t)\n}","import { App } from './App'\n\nexport default App","import React from 'react'\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\n\nimport { AccessLogPage, FingerprintsPage, LoginPage } from '../Pages/'\nimport Tab from '../Tab'\n\n\nexport const App = () => {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<Router>\n\t\t\t\t<Tab />\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/app/access_logs\" exact render={() => <AccessLogPage />} />\n\t\t\t\t\t<Route path=\"/app/fingerprints\" exact render={() => <FingerprintsPage />} />\n\t\t\t\t\t<Route path=\"/app/login\" exact render={() => <LoginPage />} />\n\t\t\t\t\t<Redirect to=\"/app/login\" />\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t</div>\n\t)\n}","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport App from './components/App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}